define(["dom"],function(dom){"use strict";return function(elem,partial,thresholdX,thresholdY){if(thresholdX=thresholdX||0,thresholdY=thresholdY||0,!elem.getBoundingClientRect)return!0;var windowSize=dom.getWindowSize(),vpWidth=windowSize.innerWidth,vpHeight=windowSize.innerHeight,rec=elem.getBoundingClientRect(),tViz=0<=rec.top&&rec.top<vpHeight+thresholdY,bViz=0<rec.bottom&&rec.bottom<=vpHeight+thresholdY,lViz=0<=rec.left&&rec.left<vpWidth+thresholdX,rViz=0<rec.right&&rec.right<=vpWidth+thresholdX;return(partial?tViz||bViz:tViz&&bViz)&&(partial?lViz||rViz:lViz&&rViz)}});